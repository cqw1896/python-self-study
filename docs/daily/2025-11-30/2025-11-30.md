### 2025-12-1（星期一）
**本周目标**：掌握变量、运算符、基本 I/O、条件和循环；完成 **猜数字**、**简易计算器** 两个小项目
**今日完成**：

- [ ] **学习要点**：

  - 变量、数据类型（`int`、`float`、`str`、`bool`）  
  - 运算符（算术、比较、逻辑）  
  - `input()` 与 `print()` 交互 
  - 单元测试

  ```bash
  # 1️⃣ 变量练习脚本 variables.py
  def main():
      # 读取用户输入
      name = input("请输入您的姓名: ")
      age_input = input("请输入您的年龄: ")
      try:
          age = int(age_input)      # 转换为整数
      except ValueError:
          print("年龄必须是数字!")
          return
  
      # 输出问候语
      print(f"Hello, {name}, you are {age} years old.")
  
  if __name__ == "__main__":
      main()
  
  # 2️⃣ 测试代码 test_variables.py
  import pytest
  from unittest.mock import patch
  from io import StringIO
  import sys
  from variables import main
  
  
  def test_valid_input(capsys):
      """测试正常输入：姓名和有效年龄"""
      # 模拟 input 的返回值
      with patch("builtins.input", side_effect=["张三", "25"]):
          main()
      # 捕获 print 输出
      captured = capsys.readouterr()
      assert "Hello, 张三, you are 25 years old."
  
  
  def test_invalid_age(capsys):
      """测试年龄输入非数字的情况"""
      with patch("builtins.input", side_effect=["李四", "abc"]):
          main()
      captured = capsys.readouterr()
      assert "年龄必须是数字!" in captured.out
  
  
  def test_negative_age(capsys):
      """测试负数年龄（合法整数，程序应接受）"""
      with patch("builtins.input", side_effect=["王五", "-5"]):
          main()
      captured = capsys.readouterr()
      assert "Hello, 王五, you are -5 years old." in captured.out
      
  # 3️⃣ 测试
  pytest tests/test_variables.py
  ```

  把核心逻辑从 main() 中抽离出来，便于单元测试（不依赖 input/print）

  ```bash
  # 把核心逻辑从 main() 中抽离出来，便于单元测试（不依赖 input/print）
  # 1️⃣ 变量练习脚本 variables_1.py
  def variables(name: str, age: int) -> str:
      return f"Hello, {name}, you are {age} years old."
  
  
  def main():
      """入口函数，处理 I/O (副作用)"""
      name = input("请输入你的姓名: ")
      age_input = input("请输入你的年龄: ")
      try:
          age = int(age_input)
      except ValueError:
          print("年龄必须是数字!")
          return
      print(variables(name, age))
  
  
  if __name__ == "__main__":
      main()
      
  # 2️⃣ 测试代码 test_variables_1.py
  import pytest
  from unittest.mock import patch
  from variables_1 import variables, main
  
  
  # 1. 测试纯函数 variables_1
  def test_variables_default():
      assert variables("张三", 25) == "Hello, 张三, you are 25 years old."
  
  
  def test_variables_negative_age():
      assert variables("李四", -5) == "Hello, 李四, you are -5 years old."
  
  
  def test_variables_zero_age():
      assert variables("王五", 0) == "Hello, 王五, you are 0 years old."
  
  
  # 2. 测试 main() 需要模拟 I/O ,但逻辑已最小化
  def test_main_valid_input(capsys):
      with patch("builtins.input", side_effect=["王五", "30"]):
          main()
      captured = capsys.readouterr()
      assert "Hello, 王五, you are 30 years old." in captured.out
  
  
  def test_main_invalid_age(capsys):
      with patch("builtins.input", side_effect=["赵六", "not_a_number"]):
          main()
      captured = capsys.readouterr()
      assert "年龄必须是数字!" in captured.out
      
  
  # 3️⃣ 测试
  pytest tests/test_variables_1.py
  ```

  

- [ ] **实操步骤**：见上方命令与代码

- [ ] **成果检查**：所有检查项已满足

**遇到的困难**： 

**解决方案**：  



### 2025-12-2（星期二）

**本周目标**：掌握变量、运算符、基本 I/O、条件和循环；完成 **猜数字**、**简易计算器** 两个小项目
**今日完成**：

- [ ] **学习要点**：

  - 条件判断 `if / elif / else`  

  - 布尔表达式、三元运算符  

  ```python
  # check_age.py
  def is_adult(age: int) -> str:
  	return '成年人' if age>=18 else '未成年'
  
  def main():
  	while True:
  		age_input = input('请输入你的年龄(输入 q 退出): ')
  		if age_input.lower() == 'q':
  			print('已退出')
  			break
          try:
              age = int(age_input)
          except ValueError:
              print('请输入有效数字！')
              continue
          print(is_adult(age))
          
  # pytest测试 tests/test_check_age.py
  import pytest
  from unittest.mock import patch
  from check_age import is_adult, main
  
  def test_is_adult_gt_et_18():
      assert is_adult(18) == '成年人'
      assert is_adult(29) == '成年人'
      assert is_adult(1000) == '成年人'
  def test_is_adult_lt_18():
      assert is_adult(12) == '未成年'
      assert is_adult(0) == '未成年'
      assert is_adult(-6) == '未成年'
  
  # 测试 main
  # main() 函数是一个 while True, 无限循环。处理完一个输入后，程序会继续等待下一个输入，导致测试卡住。
  # 所以应该在输入序列末尾添加 "q" 来退出循环
  def test_main_valid_input(capsys):
      with patch('builtins.input', side_effect=['25', 'q']):
          main()
      captured = capsys.readouterr()
      assert '成年人' in captured.out
      with patch('builtins.input', side_effect=['12', 'q']):
          main()
      captured = capsys.readouterr()
      assert '未成年' in captured.out
      
  def test_main_invalid_input(capsys):
      with patch('builtins.input', side_effect=['not a number', 'q']):
          main()
      captured = capsys.readouterr()
      assert '请输入有效数字！' in captured.out
      
  def test_main_exit(capsys):
      with patch('builtins.input', side_effect=['q', 'Q']):
          main()
      captured = capsys.readouterr()
      assert '已退出' in captured.out
  ```

  

- [ ] **实操步骤**：见上方命令与代码
- [ ] **成果检查**：所有检查项已满足

**遇到的困难**： 

`main() `测试不通过 
**解决方案**： 

`side_effect`序列末尾加 ` 'q'`
